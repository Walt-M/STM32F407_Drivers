ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gpio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Src/gpio.c"
  20              		.section	.text.GPIO_Init,"ax",%progbits
  21              		.align	1
  22              		.global	GPIO_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	GPIO_Init:
  28              	.LVL0:
  29              	.LFB130:
   1:Src/gpio.c    **** #include "gpio.h"
   2:Src/gpio.c    **** 
   3:Src/gpio.c    **** void GPIO_Init(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN, GPIO_Config *Config){
  30              		.loc 1 3 76 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 3 76 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
   4:Src/gpio.c    ****     GPIOx->MODER &= ~(GPIO_MODE << (GPIO_PIN * 2U));
  41              		.loc 1 4 5 is_stmt 1 view .LVU2
  42              		.loc 1 4 10 is_stmt 0 view .LVU3
  43 0002 0468     		ldr	r4, [r0]
  44              		.loc 1 4 46 view .LVU4
  45 0004 4B00     		lsls	r3, r1, #1
  46              		.loc 1 4 33 view .LVU5
  47 0006 4FF0030E 		mov	lr, #3
  48 000a 0EFA03FE 		lsl	lr, lr, r3
  49              		.loc 1 4 18 view .LVU6
  50 000e 24EA0E04 		bic	r4, r4, lr
  51 0012 0460     		str	r4, [r0]
   5:Src/gpio.c    ****     GPIOx->MODER |= (Config->Mode << (GPIO_PIN * 2U));
  52              		.loc 1 5 5 is_stmt 1 view .LVU7
  53              		.loc 1 5 10 is_stmt 0 view .LVU8
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 2


  54 0014 0468     		ldr	r4, [r0]
  55              		.loc 1 5 28 view .LVU9
  56 0016 1568     		ldr	r5, [r2]
  57              		.loc 1 5 35 view .LVU10
  58 0018 9D40     		lsls	r5, r5, r3
  59              		.loc 1 5 18 view .LVU11
  60 001a 2C43     		orrs	r4, r4, r5
  61 001c 0460     		str	r4, [r0]
   6:Src/gpio.c    **** 
   7:Src/gpio.c    ****     GPIOx->OTYPER &= ~(GPIO_TYPE << GPIO_PIN);
  62              		.loc 1 7 5 is_stmt 1 view .LVU12
  63              		.loc 1 7 10 is_stmt 0 view .LVU13
  64 001e 4468     		ldr	r4, [r0, #4]
  65              		.loc 1 7 34 view .LVU14
  66 0020 4FF0010C 		mov	ip, #1
  67 0024 0CFA01FC 		lsl	ip, ip, r1
  68              		.loc 1 7 19 view .LVU15
  69 0028 24EA0C04 		bic	r4, r4, ip
  70 002c 4460     		str	r4, [r0, #4]
   8:Src/gpio.c    ****     GPIOx->OTYPER |= (Config->Type << GPIO_PIN);
  71              		.loc 1 8 5 is_stmt 1 view .LVU16
  72              		.loc 1 8 10 is_stmt 0 view .LVU17
  73 002e 4468     		ldr	r4, [r0, #4]
  74              		.loc 1 8 29 view .LVU18
  75 0030 5568     		ldr	r5, [r2, #4]
  76              		.loc 1 8 36 view .LVU19
  77 0032 8D40     		lsls	r5, r5, r1
  78              		.loc 1 8 19 view .LVU20
  79 0034 2C43     		orrs	r4, r4, r5
  80 0036 4460     		str	r4, [r0, #4]
   9:Src/gpio.c    ****     
  10:Src/gpio.c    ****     GPIOx->OSPEEDR &= ~(GPIO_SPEED << (GPIO_PIN * 2U));
  81              		.loc 1 10 5 is_stmt 1 view .LVU21
  82              		.loc 1 10 10 is_stmt 0 view .LVU22
  83 0038 8468     		ldr	r4, [r0, #8]
  84              		.loc 1 10 20 view .LVU23
  85 003a 24EA0E04 		bic	r4, r4, lr
  86 003e 8460     		str	r4, [r0, #8]
  11:Src/gpio.c    ****     GPIOx->OSPEEDR |= (Config->Speed << (GPIO_PIN * 2U));
  87              		.loc 1 11 5 is_stmt 1 view .LVU24
  88              		.loc 1 11 10 is_stmt 0 view .LVU25
  89 0040 8468     		ldr	r4, [r0, #8]
  90              		.loc 1 11 38 view .LVU26
  91 0042 9568     		ldr	r5, [r2, #8]
  92 0044 05FA03FE 		lsl	lr, r5, r3
  93              		.loc 1 11 20 view .LVU27
  94 0048 44EA0E04 		orr	r4, r4, lr
  95 004c 8460     		str	r4, [r0, #8]
  12:Src/gpio.c    **** 
  13:Src/gpio.c    ****     GPIOx->PUPDR &= ~(GPIO_PUPD << GPIO_PIN * 2U);
  96              		.loc 1 13 5 is_stmt 1 view .LVU28
  97              		.loc 1 13 10 is_stmt 0 view .LVU29
  98 004e C468     		ldr	r4, [r0, #12]
  99              		.loc 1 13 33 view .LVU30
 100 0050 4FF0020E 		mov	lr, #2
 101 0054 0EFA03FE 		lsl	lr, lr, r3
 102              		.loc 1 13 18 view .LVU31
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 3


 103 0058 24EA0E04 		bic	r4, r4, lr
 104 005c C460     		str	r4, [r0, #12]
  14:Src/gpio.c    ****     GPIOx->PUPDR |= (Config->PUPD << (GPIO_PIN * 2U));
 105              		.loc 1 14 5 is_stmt 1 view .LVU32
 106              		.loc 1 14 10 is_stmt 0 view .LVU33
 107 005e C468     		ldr	r4, [r0, #12]
 108              		.loc 1 14 35 view .LVU34
 109 0060 D568     		ldr	r5, [r2, #12]
 110 0062 05FA03F3 		lsl	r3, r5, r3
 111              		.loc 1 14 18 view .LVU35
 112 0066 2343     		orrs	r3, r3, r4
 113 0068 C360     		str	r3, [r0, #12]
  15:Src/gpio.c    **** 
  16:Src/gpio.c    ****     GPIOx->LCKR &= ~(GPIO_LOCK << GPIO_PIN);
 114              		.loc 1 16 5 is_stmt 1 view .LVU36
 115              		.loc 1 16 10 is_stmt 0 view .LVU37
 116 006a C369     		ldr	r3, [r0, #28]
 117              		.loc 1 16 17 view .LVU38
 118 006c 23EA0C03 		bic	r3, r3, ip
 119 0070 C361     		str	r3, [r0, #28]
  17:Src/gpio.c    ****     GPIOx->LCKR |= (Config->LOCK << GPIO_PIN);
 120              		.loc 1 17 5 is_stmt 1 view .LVU39
 121              		.loc 1 17 10 is_stmt 0 view .LVU40
 122 0072 C369     		ldr	r3, [r0, #28]
 123              		.loc 1 17 34 view .LVU41
 124 0074 1469     		ldr	r4, [r2, #16]
 125 0076 04FA01FC 		lsl	ip, r4, r1
 126              		.loc 1 17 17 view .LVU42
 127 007a 43EA0C03 		orr	r3, r3, ip
 128 007e C361     		str	r3, [r0, #28]
  18:Src/gpio.c    **** 
  19:Src/gpio.c    ****     if (GPIO_PIN <= GPIO_PIN_7){
 129              		.loc 1 19 5 is_stmt 1 view .LVU43
 130              		.loc 1 19 8 is_stmt 0 view .LVU44
 131 0080 0729     		cmp	r1, #7
 132 0082 0DD8     		bhi	.L2
  20:Src/gpio.c    ****         GPIOx->AFR[0] &= ~(GPIO_ALT << (GPIO_PIN * 4U));
 133              		.loc 1 20 9 is_stmt 1 view .LVU45
 134              		.loc 1 20 19 is_stmt 0 view .LVU46
 135 0084 036A     		ldr	r3, [r0, #32]
 136              		.loc 1 20 50 view .LVU47
 137 0086 8900     		lsls	r1, r1, #2
 138              	.LVL1:
 139              		.loc 1 20 37 view .LVU48
 140 0088 0F24     		movs	r4, #15
 141 008a 8C40     		lsls	r4, r4, r1
 142              		.loc 1 20 23 view .LVU49
 143 008c 23EA0403 		bic	r3, r3, r4
 144 0090 0362     		str	r3, [r0, #32]
  21:Src/gpio.c    ****         GPIOx->AFR[0] |= (Config->ALT << (GPIO_PIN * 4U));
 145              		.loc 1 21 9 is_stmt 1 view .LVU50
 146              		.loc 1 21 19 is_stmt 0 view .LVU51
 147 0092 036A     		ldr	r3, [r0, #32]
 148              		.loc 1 21 33 view .LVU52
 149 0094 5269     		ldr	r2, [r2, #20]
 150              	.LVL2:
 151              		.loc 1 21 39 view .LVU53
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 4


 152 0096 02FA01F1 		lsl	r1, r2, r1
 153              		.loc 1 21 23 view .LVU54
 154 009a 0B43     		orrs	r3, r3, r1
 155 009c 0362     		str	r3, [r0, #32]
 156              	.L1:
  22:Src/gpio.c    ****     }else{
  23:Src/gpio.c    ****         GPIOx->AFR[1] &= ~(GPIO_ALT << (GPIO_PIN * 4U));
  24:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
  25:Src/gpio.c    ****     }
  26:Src/gpio.c    **** };
 157              		.loc 1 26 1 view .LVU55
 158 009e 30BD     		pop	{r4, r5, pc}
 159              	.LVL3:
 160              	.L2:
  23:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
 161              		.loc 1 23 9 is_stmt 1 view .LVU56
  23:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
 162              		.loc 1 23 19 is_stmt 0 view .LVU57
 163 00a0 436A     		ldr	r3, [r0, #36]
  23:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
 164              		.loc 1 23 50 view .LVU58
 165 00a2 8900     		lsls	r1, r1, #2
 166              	.LVL4:
  23:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
 167              		.loc 1 23 37 view .LVU59
 168 00a4 0F24     		movs	r4, #15
 169 00a6 8C40     		lsls	r4, r4, r1
  23:Src/gpio.c    ****         GPIOx->AFR[1] |= (Config->ALT << (GPIO_PIN * 4U));
 170              		.loc 1 23 23 view .LVU60
 171 00a8 23EA0403 		bic	r3, r3, r4
 172 00ac 4362     		str	r3, [r0, #36]
  24:Src/gpio.c    ****     }
 173              		.loc 1 24 9 is_stmt 1 view .LVU61
  24:Src/gpio.c    ****     }
 174              		.loc 1 24 19 is_stmt 0 view .LVU62
 175 00ae 436A     		ldr	r3, [r0, #36]
  24:Src/gpio.c    ****     }
 176              		.loc 1 24 33 view .LVU63
 177 00b0 5269     		ldr	r2, [r2, #20]
 178              	.LVL5:
  24:Src/gpio.c    ****     }
 179              		.loc 1 24 39 view .LVU64
 180 00b2 8A40     		lsls	r2, r2, r1
  24:Src/gpio.c    ****     }
 181              		.loc 1 24 23 view .LVU65
 182 00b4 1343     		orrs	r3, r3, r2
 183 00b6 4362     		str	r3, [r0, #36]
 184              		.loc 1 26 1 view .LVU66
 185 00b8 F1E7     		b	.L1
 186              		.cfi_endproc
 187              	.LFE130:
 189              		.section	.text.GPIO_InteruptEnable,"ax",%progbits
 190              		.align	1
 191              		.global	GPIO_InteruptEnable
 192              		.syntax unified
 193              		.thumb
 194              		.thumb_func
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 5


 196              	GPIO_InteruptEnable:
 197              	.LVL6:
 198              	.LFB131:
  27:Src/gpio.c    **** 
  28:Src/gpio.c    **** //Idea from "Mastering Microcontroller and Embeeded Driver Development" vid 111.
  29:Src/gpio.c    **** #define GPIOx_TO_NUMBER(GPIOx) ((GPIOx == GPIOA) ? 0 :\
  30:Src/gpio.c    ****                                 (GPIOx == GPIOB) ? 1 :\
  31:Src/gpio.c    ****                                 (GPIOx == GPIOC) ? 2 :\
  32:Src/gpio.c    ****                                 (GPIOx == GPIOD) ? 3 :\
  33:Src/gpio.c    ****                                 (GPIOx == GPIOE) ? 4 :\
  34:Src/gpio.c    ****                                 (GPIOx == GPIOF) ? 5 :\
  35:Src/gpio.c    ****                                 (GPIOx == GPIOG) ? 6 :\
  36:Src/gpio.c    ****                                 (GPIOx == GPIOH) ? 7 :\
  37:Src/gpio.c    ****                                 (GPIOx == GPIOI) ? 8 : 0 )
  38:Src/gpio.c    **** 
  39:Src/gpio.c    **** #define GPIO_IRQ_NUM(GPIO_Pin) ((GPIO_Pin == GPIO_PIN_0) ? EXTI0_IRQn :\
  40:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_1) ? EXTI1_IRQn :\
  41:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_2) ? EXTI2_IRQn :\
  42:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_3) ? EXTI3_IRQn :\
  43:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_4) ? EXTI4_IRQn :\
  44:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_5) ? EXTI9_5_IRQn :\
  45:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_6) ? EXTI9_5_IRQn :\
  46:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_7) ? EXTI9_5_IRQn :\
  47:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_8) ? EXTI9_5_IRQn :\
  48:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_9) ? EXTI9_5_IRQn :\
  49:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_10) ? EXTI15_10_IRQn :\
  50:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_11) ? EXTI15_10_IRQn :\
  51:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_12) ? EXTI15_10_IRQn :\
  52:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_13) ? EXTI15_10_IRQn :\
  53:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_14) ? EXTI15_10_IRQn :\
  54:Src/gpio.c    ****                                 (GPIO_Pin == GPIO_PIN_15) ? EXTI15_10_IRQn : 0)
  55:Src/gpio.c    **** 
  56:Src/gpio.c    **** // 1) Set SYSCFG to point to required port and pin
  57:Src/gpio.c    **** // 2) Configure exti for that port and pin. Trigger, Mode, gpoio exc
  58:Src/gpio.c    **** // 3) Set proper IRQ bit to 1.
  59:Src/gpio.c    **** // 4) Once IRQ happens, clear bit.
  60:Src/gpio.c    **** void GPIO_InteruptEnable(GPIO_TypeDef *GPIOx, uint16_t GPIO_Pin, EXTI_Config *EXTI_Cfg){
 199              		.loc 1 60 88 is_stmt 1 view -0
 200              		.cfi_startproc
 201              		@ args = 0, pretend = 0, frame = 0
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203              		.loc 1 60 88 is_stmt 0 view .LVU68
 204 0000 30B5     		push	{r4, r5, lr}
 205              	.LCFI1:
 206              		.cfi_def_cfa_offset 12
 207              		.cfi_offset 4, -12
 208              		.cfi_offset 5, -8
 209              		.cfi_offset 14, -4
  61:Src/gpio.c    ****     uint8_t index = GPIO_Pin / 4;
 210              		.loc 1 61 5 is_stmt 1 view .LVU69
 211              		.loc 1 61 13 is_stmt 0 view .LVU70
 212 0002 C1F38703 		ubfx	r3, r1, #2, #8
 213              	.LVL7:
  62:Src/gpio.c    ****     uint8_t offset = GPIO_Pin % 4;
 214              		.loc 1 62 5 is_stmt 1 view .LVU71
 215              		.loc 1 62 13 is_stmt 0 view .LVU72
 216 0006 01F0030E 		and	lr, r1, #3
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 6


 217              	.LVL8:
  63:Src/gpio.c    ****     uint8_t IRQ_Num = GPIO_IRQ_NUM(GPIO_Pin);
 218              		.loc 1 63 5 is_stmt 1 view .LVU73
 219              		.loc 1 63 13 is_stmt 0 view .LVU74
 220 000a C9B3     		cbz	r1, .L28
 221 000c 4C1E     		subs	r4, r1, #1
 222 000e 0E2C     		cmp	r4, #14
 223 0010 09D8     		bhi	.L7
 224 0012 DFE804F0 		tbb	[pc, r4]
 225              	.L9:
 226 0016 64       		.byte	(.L29-.L9)/2
 227 0017 0B       		.byte	(.L22-.L9)/2
 228 0018 0E       		.byte	(.L21-.L9)/2
 229 0019 11       		.byte	(.L20-.L9)/2
 230 001a 14       		.byte	(.L19-.L9)/2
 231 001b 17       		.byte	(.L18-.L9)/2
 232 001c 1A       		.byte	(.L17-.L9)/2
 233 001d 1D       		.byte	(.L16-.L9)/2
 234 001e 20       		.byte	(.L15-.L9)/2
 235 001f 23       		.byte	(.L14-.L9)/2
 236 0020 26       		.byte	(.L13-.L9)/2
 237 0021 29       		.byte	(.L12-.L9)/2
 238 0022 2C       		.byte	(.L11-.L9)/2
 239 0023 2F       		.byte	(.L10-.L9)/2
 240 0024 32       		.byte	(.L8-.L9)/2
 241 0025 00       		.p2align 1
 242              	.L7:
 243 0026 4FF0000C 		mov	ip, #0
 244 002a 2BE0     		b	.L6
 245              	.L22:
 246 002c 4FF0080C 		mov	ip, #8
 247 0030 28E0     		b	.L6
 248              	.L21:
 249 0032 4FF0090C 		mov	ip, #9
 250 0036 25E0     		b	.L6
 251              	.L20:
 252 0038 4FF00A0C 		mov	ip, #10
 253 003c 22E0     		b	.L6
 254              	.L19:
 255 003e 4FF0170C 		mov	ip, #23
 256 0042 1FE0     		b	.L6
 257              	.L18:
 258 0044 4FF0170C 		mov	ip, #23
 259 0048 1CE0     		b	.L6
 260              	.L17:
 261 004a 4FF0170C 		mov	ip, #23
 262 004e 19E0     		b	.L6
 263              	.L16:
 264 0050 4FF0170C 		mov	ip, #23
 265 0054 16E0     		b	.L6
 266              	.L15:
 267 0056 4FF0170C 		mov	ip, #23
 268 005a 13E0     		b	.L6
 269              	.L14:
 270 005c 4FF0280C 		mov	ip, #40
 271 0060 10E0     		b	.L6
 272              	.L13:
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 7


 273 0062 4FF0280C 		mov	ip, #40
 274 0066 0DE0     		b	.L6
 275              	.L12:
 276 0068 4FF0280C 		mov	ip, #40
 277 006c 0AE0     		b	.L6
 278              	.L11:
 279 006e 4FF0280C 		mov	ip, #40
 280 0072 07E0     		b	.L6
 281              	.L10:
 282 0074 4FF0280C 		mov	ip, #40
 283 0078 04E0     		b	.L6
 284              	.L8:
 285 007a 4FF0280C 		mov	ip, #40
 286 007e 01E0     		b	.L6
 287              	.L28:
 288 0080 4FF0060C 		mov	ip, #6
 289              	.L6:
 290              	.LVL9:
  64:Src/gpio.c    **** 
  65:Src/gpio.c    **** 
  66:Src/gpio.c    ****     if(EXTI_Cfg->Mode == EXTI_MODE_INTERUPT){
 291              		.loc 1 66 5 is_stmt 1 discriminator 64 view .LVU75
 292              		.loc 1 66 16 is_stmt 0 discriminator 64 view .LVU76
 293 0084 1468     		ldr	r4, [r2]
 294              		.loc 1 66 7 discriminator 64 view .LVU77
 295 0086 002C     		cmp	r4, #0
 296 0088 5CD1     		bne	.L23
  67:Src/gpio.c    ****         SYSCFG->EXTICR[index] |= (GPIOx_TO_NUMBER(GPIOx) << offset * 4U);
 297              		.loc 1 67 9 is_stmt 1 view .LVU78
 298              		.loc 1 67 23 is_stmt 0 view .LVU79
 299 008a 9C1C     		adds	r4, r3, #2
 300 008c 384D     		ldr	r5, .L41
 301 008e 55F82440 		ldr	r4, [r5, r4, lsl #2]
 302              		.loc 1 67 35 view .LVU80
 303 0092 05F54845 		add	r5, r5, #51200
 304 0096 A842     		cmp	r0, r5
 305 0098 26D0     		beq	.L30
 306              		.loc 1 67 35 discriminator 1 view .LVU81
 307 009a 05F58065 		add	r5, r5, #1024
 308 009e A842     		cmp	r0, r5
 309 00a0 42D0     		beq	.L31
 310              		.loc 1 67 35 discriminator 3 view .LVU82
 311 00a2 05F58065 		add	r5, r5, #1024
 312 00a6 A842     		cmp	r0, r5
 313 00a8 40D0     		beq	.L32
 314              		.loc 1 67 35 discriminator 5 view .LVU83
 315 00aa 05F58065 		add	r5, r5, #1024
 316 00ae A842     		cmp	r0, r5
 317 00b0 3ED0     		beq	.L33
 318              		.loc 1 67 35 discriminator 7 view .LVU84
 319 00b2 05F58065 		add	r5, r5, #1024
 320 00b6 A842     		cmp	r0, r5
 321 00b8 3CD0     		beq	.L34
 322              		.loc 1 67 35 discriminator 9 view .LVU85
 323 00ba 05F58065 		add	r5, r5, #1024
 324 00be A842     		cmp	r0, r5
 325 00c0 3AD0     		beq	.L35
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 8


 326              		.loc 1 67 35 discriminator 11 view .LVU86
 327 00c2 05F58065 		add	r5, r5, #1024
 328 00c6 A842     		cmp	r0, r5
 329 00c8 38D0     		beq	.L36
 330              		.loc 1 67 35 discriminator 13 view .LVU87
 331 00ca 05F58065 		add	r5, r5, #1024
 332 00ce A842     		cmp	r0, r5
 333 00d0 36D0     		beq	.L37
 334              		.loc 1 67 35 discriminator 15 view .LVU88
 335 00d2 05F58065 		add	r5, r5, #1024
 336 00d6 A842     		cmp	r0, r5
 337 00d8 04D0     		beq	.L40
 338              		.loc 1 67 35 view .LVU89
 339 00da 0020     		movs	r0, #0
 340              	.LVL10:
 341              		.loc 1 67 35 view .LVU90
 342 00dc 05E0     		b	.L24
 343              	.LVL11:
 344              	.L29:
  63:Src/gpio.c    ****     uint8_t IRQ_Num = GPIO_IRQ_NUM(GPIO_Pin);
 345              		.loc 1 63 13 view .LVU91
 346 00de 4FF0070C 		mov	ip, #7
 347 00e2 CFE7     		b	.L6
 348              	.LVL12:
 349              	.L40:
 350              		.loc 1 67 35 view .LVU92
 351 00e4 0820     		movs	r0, #8
 352              	.LVL13:
 353              		.loc 1 67 35 view .LVU93
 354 00e6 00E0     		b	.L24
 355              	.LVL14:
 356              	.L30:
 357              		.loc 1 67 35 view .LVU94
 358 00e8 0020     		movs	r0, #0
 359              	.LVL15:
 360              	.L24:
 361              		.loc 1 67 68 discriminator 36 view .LVU95
 362 00ea 4FEA8E0E 		lsl	lr, lr, #2
 363              	.LVL16:
 364              		.loc 1 67 58 discriminator 36 view .LVU96
 365 00ee 00FA0EF0 		lsl	r0, r0, lr
 366              		.loc 1 67 31 discriminator 36 view .LVU97
 367 00f2 2043     		orrs	r0, r0, r4
 368 00f4 0233     		adds	r3, r3, #2
 369              	.LVL17:
 370              		.loc 1 67 31 discriminator 36 view .LVU98
 371 00f6 1E4C     		ldr	r4, .L41
 372 00f8 44F82300 		str	r0, [r4, r3, lsl #2]
  68:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 373              		.loc 1 68 9 is_stmt 1 discriminator 36 view .LVU99
 374              		.loc 1 68 13 is_stmt 0 discriminator 36 view .LVU100
 375 00fc 04F58064 		add	r4, r4, #1024
 376 0100 2068     		ldr	r0, [r4]
 377              		.loc 1 68 25 discriminator 36 view .LVU101
 378 0102 0123     		movs	r3, #1
 379              	.LVL18:
 380              		.loc 1 68 25 discriminator 36 view .LVU102
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 9


 381 0104 03FA01FE 		lsl	lr, r3, r1
 382              		.loc 1 68 19 discriminator 36 view .LVU103
 383 0108 40EA0E00 		orr	r0, r0, lr
 384 010c 2060     		str	r0, [r4]
  69:Src/gpio.c    **** 
  70:Src/gpio.c    **** 
  71:Src/gpio.c    ****         index = IRQ_Num / 32;
 385              		.loc 1 71 9 is_stmt 1 discriminator 36 view .LVU104
 386              		.loc 1 71 15 is_stmt 0 discriminator 36 view .LVU105
 387 010e 4FEA5C1E 		lsr	lr, ip, #5
 388              	.LVL19:
  72:Src/gpio.c    ****         offset = IRQ_Num % 32;
 389              		.loc 1 72 9 is_stmt 1 discriminator 36 view .LVU106
 390              		.loc 1 72 16 is_stmt 0 discriminator 36 view .LVU107
 391 0112 0CF01F0C 		and	ip, ip, #31
 392              	.LVL20:
  73:Src/gpio.c    ****         NVIC->ISER[index] |= (1 << offset);
 393              		.loc 1 73 9 is_stmt 1 discriminator 36 view .LVU108
 394              		.loc 1 73 19 is_stmt 0 discriminator 36 view .LVU109
 395 0116 174C     		ldr	r4, .L41+4
 396 0118 54F82E00 		ldr	r0, [r4, lr, lsl #2]
 397              		.loc 1 73 33 discriminator 36 view .LVU110
 398 011c 03FA0CF3 		lsl	r3, r3, ip
 399              		.loc 1 73 27 discriminator 36 view .LVU111
 400 0120 0343     		orrs	r3, r3, r0
 401 0122 44F82E30 		str	r3, [r4, lr, lsl #2]
 402 0126 13E0     		b	.L25
 403              	.LVL21:
 404              	.L31:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 405              		.loc 1 67 35 view .LVU112
 406 0128 0120     		movs	r0, #1
 407              	.LVL22:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 408              		.loc 1 67 35 view .LVU113
 409 012a DEE7     		b	.L24
 410              	.LVL23:
 411              	.L32:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 412              		.loc 1 67 35 view .LVU114
 413 012c 0220     		movs	r0, #2
 414              	.LVL24:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 415              		.loc 1 67 35 view .LVU115
 416 012e DCE7     		b	.L24
 417              	.LVL25:
 418              	.L33:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 419              		.loc 1 67 35 view .LVU116
 420 0130 0320     		movs	r0, #3
 421              	.LVL26:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 422              		.loc 1 67 35 view .LVU117
 423 0132 DAE7     		b	.L24
 424              	.LVL27:
 425              	.L34:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 10


 426              		.loc 1 67 35 view .LVU118
 427 0134 0420     		movs	r0, #4
 428              	.LVL28:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 429              		.loc 1 67 35 view .LVU119
 430 0136 D8E7     		b	.L24
 431              	.LVL29:
 432              	.L35:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 433              		.loc 1 67 35 view .LVU120
 434 0138 0520     		movs	r0, #5
 435              	.LVL30:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 436              		.loc 1 67 35 view .LVU121
 437 013a D6E7     		b	.L24
 438              	.LVL31:
 439              	.L36:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 440              		.loc 1 67 35 view .LVU122
 441 013c 0620     		movs	r0, #6
 442              	.LVL32:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 443              		.loc 1 67 35 view .LVU123
 444 013e D4E7     		b	.L24
 445              	.LVL33:
 446              	.L37:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 447              		.loc 1 67 35 view .LVU124
 448 0140 0720     		movs	r0, #7
 449              	.LVL34:
  67:Src/gpio.c    ****         EXTI->IMR |= (1 << GPIO_Pin);
 450              		.loc 1 67 35 view .LVU125
 451 0142 D2E7     		b	.L24
 452              	.LVL35:
 453              	.L23:
  74:Src/gpio.c    ****     }else{
  75:Src/gpio.c    ****         EXTI->EMR |= (1 << GPIO_Pin);
 454              		.loc 1 75 9 is_stmt 1 view .LVU126
 455              		.loc 1 75 13 is_stmt 0 view .LVU127
 456 0144 0C4C     		ldr	r4, .L41+8
 457 0146 6368     		ldr	r3, [r4, #4]
 458              	.LVL36:
 459              		.loc 1 75 25 view .LVU128
 460 0148 0120     		movs	r0, #1
 461              	.LVL37:
 462              		.loc 1 75 25 view .LVU129
 463 014a 8840     		lsls	r0, r0, r1
 464              		.loc 1 75 19 view .LVU130
 465 014c 0343     		orrs	r3, r3, r0
 466 014e 6360     		str	r3, [r4, #4]
 467              	.LVL38:
 468              	.L25:
  76:Src/gpio.c    ****     }
  77:Src/gpio.c    **** 
  78:Src/gpio.c    ****     if(EXTI_Cfg->Trigger == EXTI_TRIGGER_RISING){
 469              		.loc 1 78 5 is_stmt 1 view .LVU131
 470              		.loc 1 78 16 is_stmt 0 view .LVU132
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 11


 471 0150 5368     		ldr	r3, [r2, #4]
 472              		.loc 1 78 7 view .LVU133
 473 0152 33B9     		cbnz	r3, .L26
  79:Src/gpio.c    ****         EXTI->RTSR |= (1 << GPIO_Pin);
 474              		.loc 1 79 9 is_stmt 1 view .LVU134
 475              		.loc 1 79 13 is_stmt 0 view .LVU135
 476 0154 0848     		ldr	r0, .L41+8
 477 0156 8368     		ldr	r3, [r0, #8]
 478              		.loc 1 79 26 view .LVU136
 479 0158 0122     		movs	r2, #1
 480              	.LVL39:
 481              		.loc 1 79 26 view .LVU137
 482 015a 8A40     		lsls	r2, r2, r1
 483              		.loc 1 79 20 view .LVU138
 484 015c 1343     		orrs	r3, r3, r2
 485 015e 8360     		str	r3, [r0, #8]
 486              	.L5:
  80:Src/gpio.c    ****     }else{
  81:Src/gpio.c    ****         EXTI->FTSR |= (1 << GPIO_Pin);
  82:Src/gpio.c    ****     }
  83:Src/gpio.c    ****     
  84:Src/gpio.c    **** 
  85:Src/gpio.c    **** 
  86:Src/gpio.c    **** };
 487              		.loc 1 86 1 view .LVU139
 488 0160 30BD     		pop	{r4, r5, pc}
 489              	.LVL40:
 490              	.L26:
  81:Src/gpio.c    ****     }
 491              		.loc 1 81 9 is_stmt 1 view .LVU140
  81:Src/gpio.c    ****     }
 492              		.loc 1 81 13 is_stmt 0 view .LVU141
 493 0162 0548     		ldr	r0, .L41+8
 494 0164 C368     		ldr	r3, [r0, #12]
  81:Src/gpio.c    ****     }
 495              		.loc 1 81 26 view .LVU142
 496 0166 0122     		movs	r2, #1
 497              	.LVL41:
  81:Src/gpio.c    ****     }
 498              		.loc 1 81 26 view .LVU143
 499 0168 8A40     		lsls	r2, r2, r1
  81:Src/gpio.c    ****     }
 500              		.loc 1 81 20 view .LVU144
 501 016a 1343     		orrs	r3, r3, r2
 502 016c C360     		str	r3, [r0, #12]
 503              		.loc 1 86 1 view .LVU145
 504 016e F7E7     		b	.L5
 505              	.L42:
 506              		.align	2
 507              	.L41:
 508 0170 00380140 		.word	1073821696
 509 0174 00E100E0 		.word	-536813312
 510 0178 003C0140 		.word	1073822720
 511              		.cfi_endproc
 512              	.LFE131:
 514              		.section	.text.GPIO_DeInit,"ax",%progbits
 515              		.align	1
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 12


 516              		.global	GPIO_DeInit
 517              		.syntax unified
 518              		.thumb
 519              		.thumb_func
 521              	GPIO_DeInit:
 522              	.LVL42:
 523              	.LFB132:
  87:Src/gpio.c    **** 
  88:Src/gpio.c    **** void GPIO_DeInit(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN){
 524              		.loc 1 88 57 is_stmt 1 view -0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 0
 527              		@ frame_needed = 0, uses_anonymous_args = 0
 528              		.loc 1 88 57 is_stmt 0 view .LVU147
 529 0000 10B5     		push	{r4, lr}
 530              	.LCFI2:
 531              		.cfi_def_cfa_offset 8
 532              		.cfi_offset 4, -8
 533              		.cfi_offset 14, -4
  89:Src/gpio.c    ****     GPIOx->MODER &= ~(GPIO_MODE << (GPIO_PIN * 2U));
 534              		.loc 1 89 5 is_stmt 1 view .LVU148
 535              		.loc 1 89 10 is_stmt 0 view .LVU149
 536 0002 0368     		ldr	r3, [r0]
 537              		.loc 1 89 46 view .LVU150
 538 0004 4FEA410E 		lsl	lr, r1, #1
 539              		.loc 1 89 33 view .LVU151
 540 0008 0322     		movs	r2, #3
 541 000a 02FA0EF2 		lsl	r2, r2, lr
 542              		.loc 1 89 18 view .LVU152
 543 000e 23EA0203 		bic	r3, r3, r2
 544 0012 0360     		str	r3, [r0]
  90:Src/gpio.c    **** 
  91:Src/gpio.c    ****     GPIOx->OTYPER &= ~(GPIO_TYPE << GPIO_PIN);
 545              		.loc 1 91 5 is_stmt 1 view .LVU153
 546              		.loc 1 91 10 is_stmt 0 view .LVU154
 547 0014 4468     		ldr	r4, [r0, #4]
 548              		.loc 1 91 34 view .LVU155
 549 0016 0123     		movs	r3, #1
 550 0018 8B40     		lsls	r3, r3, r1
 551              		.loc 1 91 19 view .LVU156
 552 001a 24EA0304 		bic	r4, r4, r3
 553 001e 4460     		str	r4, [r0, #4]
  92:Src/gpio.c    ****     
  93:Src/gpio.c    ****     GPIOx->OSPEEDR &= ~(GPIO_SPEED << (GPIO_PIN * 2U));
 554              		.loc 1 93 5 is_stmt 1 view .LVU157
 555              		.loc 1 93 10 is_stmt 0 view .LVU158
 556 0020 8468     		ldr	r4, [r0, #8]
 557              		.loc 1 93 20 view .LVU159
 558 0022 24EA0202 		bic	r2, r4, r2
 559 0026 8260     		str	r2, [r0, #8]
  94:Src/gpio.c    **** 
  95:Src/gpio.c    ****     GPIOx->PUPDR &= ~(GPIO_PUPD << GPIO_PIN * 2U);
 560              		.loc 1 95 5 is_stmt 1 view .LVU160
 561              		.loc 1 95 10 is_stmt 0 view .LVU161
 562 0028 C268     		ldr	r2, [r0, #12]
 563              		.loc 1 95 33 view .LVU162
 564 002a 4FF0020C 		mov	ip, #2
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 13


 565 002e 0CFA0EFC 		lsl	ip, ip, lr
 566              		.loc 1 95 18 view .LVU163
 567 0032 22EA0C02 		bic	r2, r2, ip
 568 0036 C260     		str	r2, [r0, #12]
  96:Src/gpio.c    **** 
  97:Src/gpio.c    ****     GPIOx->LCKR &= ~(GPIO_LOCK << GPIO_PIN);
 569              		.loc 1 97 5 is_stmt 1 view .LVU164
 570              		.loc 1 97 10 is_stmt 0 view .LVU165
 571 0038 C269     		ldr	r2, [r0, #28]
 572              		.loc 1 97 17 view .LVU166
 573 003a 22EA0303 		bic	r3, r2, r3
 574 003e C361     		str	r3, [r0, #28]
  98:Src/gpio.c    **** 
  99:Src/gpio.c    ****     if (GPIO_PIN <= GPIO_PIN_7){
 575              		.loc 1 99 5 is_stmt 1 view .LVU167
 576              		.loc 1 99 8 is_stmt 0 view .LVU168
 577 0040 0729     		cmp	r1, #7
 578 0042 08D8     		bhi	.L44
 100:Src/gpio.c    ****         GPIOx->AFR[0] &= ~(GPIO_ALT << (GPIO_PIN * 4U));
 579              		.loc 1 100 9 is_stmt 1 view .LVU169
 580              		.loc 1 100 19 is_stmt 0 view .LVU170
 581 0044 036A     		ldr	r3, [r0, #32]
 582              		.loc 1 100 50 view .LVU171
 583 0046 8900     		lsls	r1, r1, #2
 584              	.LVL43:
 585              		.loc 1 100 37 view .LVU172
 586 0048 0F22     		movs	r2, #15
 587 004a 02FA01F1 		lsl	r1, r2, r1
 588              		.loc 1 100 23 view .LVU173
 589 004e 23EA0103 		bic	r3, r3, r1
 590 0052 0362     		str	r3, [r0, #32]
 591              	.L43:
 101:Src/gpio.c    ****     }else{
 102:Src/gpio.c    ****         GPIOx->AFR[1] &= ~(GPIO_ALT << (GPIO_PIN * 4U));
 103:Src/gpio.c    ****     }
 104:Src/gpio.c    **** };
 592              		.loc 1 104 1 view .LVU174
 593 0054 10BD     		pop	{r4, pc}
 594              	.LVL44:
 595              	.L44:
 102:Src/gpio.c    ****     }
 596              		.loc 1 102 9 is_stmt 1 view .LVU175
 102:Src/gpio.c    ****     }
 597              		.loc 1 102 19 is_stmt 0 view .LVU176
 598 0056 436A     		ldr	r3, [r0, #36]
 102:Src/gpio.c    ****     }
 599              		.loc 1 102 50 view .LVU177
 600 0058 8900     		lsls	r1, r1, #2
 601              	.LVL45:
 102:Src/gpio.c    ****     }
 602              		.loc 1 102 37 view .LVU178
 603 005a 0F22     		movs	r2, #15
 604 005c 8A40     		lsls	r2, r2, r1
 102:Src/gpio.c    ****     }
 605              		.loc 1 102 23 view .LVU179
 606 005e 23EA0203 		bic	r3, r3, r2
 607 0062 4362     		str	r3, [r0, #36]
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 14


 608              		.loc 1 104 1 view .LVU180
 609 0064 F6E7     		b	.L43
 610              		.cfi_endproc
 611              	.LFE132:
 613              		.section	.text.GPIO_Write,"ax",%progbits
 614              		.align	1
 615              		.global	GPIO_Write
 616              		.syntax unified
 617              		.thumb
 618              		.thumb_func
 620              	GPIO_Write:
 621              	.LVL46:
 622              	.LFB133:
 105:Src/gpio.c    **** 
 106:Src/gpio.c    **** void GPIO_Write(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN, GPIO_PinState value){
 623              		.loc 1 106 77 is_stmt 1 view -0
 624              		.cfi_startproc
 625              		@ args = 0, pretend = 0, frame = 0
 626              		@ frame_needed = 0, uses_anonymous_args = 0
 627              		@ link register save eliminated.
 107:Src/gpio.c    ****     GPIOx->ODR |= value << GPIO_PIN;
 628              		.loc 1 107 5 view .LVU182
 629              		.loc 1 107 10 is_stmt 0 view .LVU183
 630 0000 4369     		ldr	r3, [r0, #20]
 631              		.loc 1 107 25 view .LVU184
 632 0002 8A40     		lsls	r2, r2, r1
 633              	.LVL47:
 634              		.loc 1 107 16 view .LVU185
 635 0004 1343     		orrs	r3, r3, r2
 636 0006 4361     		str	r3, [r0, #20]
 108:Src/gpio.c    **** };
 637              		.loc 1 108 1 view .LVU186
 638 0008 7047     		bx	lr
 639              		.cfi_endproc
 640              	.LFE133:
 642              		.section	.text.GPIO_Toggle,"ax",%progbits
 643              		.align	1
 644              		.global	GPIO_Toggle
 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	GPIO_Toggle:
 650              	.LVL48:
 651              	.LFB134:
 109:Src/gpio.c    **** 
 110:Src/gpio.c    **** void GPIO_Toggle(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN){
 652              		.loc 1 110 57 is_stmt 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 0
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 656              		@ link register save eliminated.
 111:Src/gpio.c    ****     GPIOx->ODR ^= 1 << GPIO_PIN;
 657              		.loc 1 111 5 view .LVU188
 658              		.loc 1 111 10 is_stmt 0 view .LVU189
 659 0000 4369     		ldr	r3, [r0, #20]
 660              		.loc 1 111 21 view .LVU190
 661 0002 0122     		movs	r2, #1
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 15


 662 0004 8A40     		lsls	r2, r2, r1
 663              		.loc 1 111 16 view .LVU191
 664 0006 5340     		eors	r3, r3, r2
 665 0008 4361     		str	r3, [r0, #20]
 112:Src/gpio.c    **** };
 666              		.loc 1 112 1 view .LVU192
 667 000a 7047     		bx	lr
 668              		.cfi_endproc
 669              	.LFE134:
 671              		.section	.text.GPIO_GetState,"ax",%progbits
 672              		.align	1
 673              		.global	GPIO_GetState
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 678              	GPIO_GetState:
 679              	.LVL49:
 680              	.LFB135:
 113:Src/gpio.c    **** 
 114:Src/gpio.c    **** GPIO_PinState GPIO_GetState(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN){
 681              		.loc 1 114 68 is_stmt 1 view -0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 0
 684              		@ frame_needed = 0, uses_anonymous_args = 0
 685              		@ link register save eliminated.
 115:Src/gpio.c    ****     return GPIOx->IDR & (1 << GPIO_PIN);
 686              		.loc 1 115 5 view .LVU194
 687              		.loc 1 115 17 is_stmt 0 view .LVU195
 688 0000 0069     		ldr	r0, [r0, #16]
 689              	.LVL50:
 690              		.loc 1 115 28 view .LVU196
 691 0002 0123     		movs	r3, #1
 692 0004 8B40     		lsls	r3, r3, r1
 693              		.loc 1 115 23 view .LVU197
 694 0006 1840     		ands	r0, r0, r3
 116:Src/gpio.c    **** };
 695              		.loc 1 116 1 view .LVU198
 696 0008 C0B2     		uxtb	r0, r0
 697 000a 7047     		bx	lr
 698              		.cfi_endproc
 699              	.LFE135:
 701              		.section	.text.GPIO_GetOutput,"ax",%progbits
 702              		.align	1
 703              		.global	GPIO_GetOutput
 704              		.syntax unified
 705              		.thumb
 706              		.thumb_func
 708              	GPIO_GetOutput:
 709              	.LVL51:
 710              	.LFB136:
 117:Src/gpio.c    **** 
 118:Src/gpio.c    **** //Bug: An and with the max bits a register can hold does not equal an integer like GPIO_MODE_ALTERN
 119:Src/gpio.c    **** GPIO_PinState GPIO_GetOutput(GPIO_TypeDef *GPIOx, uint16_t GPIO_PIN){
 711              		.loc 1 119 69 is_stmt 1 view -0
 712              		.cfi_startproc
 713              		@ args = 0, pretend = 0, frame = 0
 714              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 16


 715              		@ link register save eliminated.
 120:Src/gpio.c    ****     if (((GPIOx->MODER & GPIO_TYPE) == (GPIO_MODE_OUTPUT << GPIO_PIN * 2U)) 
 716              		.loc 1 120 5 view .LVU200
 717              		.loc 1 120 16 is_stmt 0 view .LVU201
 718 0000 0268     		ldr	r2, [r0]
 719              		.loc 1 120 24 view .LVU202
 720 0002 02F00102 		and	r2, r2, #1
 721              		.loc 1 120 70 view .LVU203
 722 0006 4FEA410C 		lsl	ip, r1, #1
 723              		.loc 1 120 58 view .LVU204
 724 000a 0123     		movs	r3, #1
 725 000c 03FA0CF3 		lsl	r3, r3, ip
 726              		.loc 1 120 8 view .LVU205
 727 0010 9A42     		cmp	r2, r3
 728 0012 08D0     		beq	.L51
 121:Src/gpio.c    ****     || ((GPIOx->MODER & GPIO_TYPE) == (GPIO_MODE_ALTERNATE << GPIO_PIN * 2U)))
 729              		.loc 1 121 15 view .LVU206
 730 0014 0268     		ldr	r2, [r0]
 731              		.loc 1 121 23 view .LVU207
 732 0016 02F00102 		and	r2, r2, #1
 733              		.loc 1 121 60 view .LVU208
 734 001a 0223     		movs	r3, #2
 735 001c 03FA0CF3 		lsl	r3, r3, ip
 736              		.loc 1 121 5 view .LVU209
 737 0020 9A42     		cmp	r2, r3
 738 0022 00D0     		beq	.L51
 739              	.LVL52:
 122:Src/gpio.c    ****     {
 123:Src/gpio.c    ****         return GPIOx->ODR & (1 << GPIO_PIN);
 124:Src/gpio.c    ****     }
 125:Src/gpio.c    **** };...
 740              		.loc 1 125 1 view .LVU210
 741 0024 7047     		bx	lr
 742              	.LVL53:
 743              	.L51:
 123:Src/gpio.c    ****         return GPIOx->ODR & (1 << GPIO_PIN);
 744              		.loc 1 123 9 is_stmt 1 view .LVU211
 123:Src/gpio.c    ****         return GPIOx->ODR & (1 << GPIO_PIN);
 745              		.loc 1 123 21 is_stmt 0 view .LVU212
 746 0026 4069     		ldr	r0, [r0, #20]
 747              	.LVL54:
 123:Src/gpio.c    ****         return GPIOx->ODR & (1 << GPIO_PIN);
 748              		.loc 1 123 32 view .LVU213
 749 0028 0123     		movs	r3, #1
 750 002a 8B40     		lsls	r3, r3, r1
 123:Src/gpio.c    ****         return GPIOx->ODR & (1 << GPIO_PIN);
 751              		.loc 1 123 27 view .LVU214
 752 002c 1840     		ands	r0, r0, r3
 753 002e C0B2     		uxtb	r0, r0
 754 0030 7047     		bx	lr
 755              		.cfi_endproc
 756              	.LFE136:
 758              		.text
 759              	.Letext0:
 760              		.file 2 "c:\\users\\walte\\tools\\arm-gnu-toolchain-12.2.rel1-mingw-w64-i686-arm-none-eabi\\arm-no
 761              		.file 3 "c:\\users\\walte\\tools\\arm-gnu-toolchain-12.2.rel1-mingw-w64-i686-arm-none-eabi\\arm-no
 762              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 17


 763              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 764              		.file 6 "Inc/exti.h"
 765              		.file 7 "Inc/gpio.h"
ARM GAS  C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 gpio.c
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:21     .text.GPIO_Init:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:27     .text.GPIO_Init:00000000 GPIO_Init
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:190    .text.GPIO_InteruptEnable:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:196    .text.GPIO_InteruptEnable:00000000 GPIO_InteruptEnable
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:226    .text.GPIO_InteruptEnable:00000016 $d
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:508    .text.GPIO_InteruptEnable:00000170 $d
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:515    .text.GPIO_DeInit:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:521    .text.GPIO_DeInit:00000000 GPIO_DeInit
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:614    .text.GPIO_Write:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:620    .text.GPIO_Write:00000000 GPIO_Write
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:643    .text.GPIO_Toggle:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:649    .text.GPIO_Toggle:00000000 GPIO_Toggle
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:672    .text.GPIO_GetState:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:678    .text.GPIO_GetState:00000000 GPIO_GetState
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:702    .text.GPIO_GetOutput:00000000 $t
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:708    .text.GPIO_GetOutput:00000000 GPIO_GetOutput
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:241    .text.GPIO_InteruptEnable:00000025 $d
C:\Users\Walte\AppData\Local\Temp\ccZNVsNH.s:241    .text.GPIO_InteruptEnable:00000026 $t

NO UNDEFINED SYMBOLS
